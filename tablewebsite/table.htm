<!DOCTYPE html>
<html lang="en">
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
        <title>Stemilt Growers LLC</title>
        <meta charset="utf-8">
        <link type="text/css" rel="stylesheet" href="style.css">
        <!--[if IE 6]><link type="text/css" rel="stylesheet" href="styles/ie6.css"><![endif]--><!--[if IE 7]><link type="text/css" rel="stylesheet" href="styles/ie7.css"><![endif]-->
        <style type="text/css"></style>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js">
        <script>
        function GetInfo(destination)
        {
            var request = new XMLHttpRequest();
            request.onreadystatechange = function()
            {
                if (this.readyState == 4)
                {
                    if(this.status == 200)
                    {
                        if(this.responseText != null)
                        {
                            document.getElementById(destination).innerHTML = this.responseText;
                        }
                    }
                }
            }
            request.open("GET","ajax_" + destination, true);
            request.send(null);
        }
        </script>
        <script>
        function getArrayWithCallback(arrayName, destination, cb)
        {
            function getArrayWithCallbackInner(jqXHR, status) 
            {
                console.log(jqXHR);
                var tableindex = 0;
                        
                while (tableindex < 4) //the number of entries in a row
                {
                    var res = jqXHR.responseText.split(" ");
                    document.getElementById(destination + tableindex).innerHTML = res[tableindex];
                    tableindex++;
                }
                if (cb){
                    cb();
                }
            }
            return getArrayWithCallbackInner;
        }
        </script>
        <script>
        function requestArray(arrayName, destination, cb) 
        {
        $.ajax({
            url: "ajax_" + arrayName,
            method: "GET",
            complete: getArrayWithCallback(arrayName, destination, cb)
            })
        }
        </script>
        <script>
        function requestArrayClosure(arrayName, destination, cb) {
            function requestArrayClosureInner() {
                return requestArray(arrayName, destination, cb);
            }
            return requestArrayClosureInner;
        }
        </script>
        <script>
        function getManyArrays() {
            requestArray("table0", "tablenum",
                requestArrayClosure("nexttable", "tablea",
                    requestArrayClosure("nexttable", "tableb",
                        requestArrayClosure("nexttable", "tablec",
                            requestArrayClosure("nexttable", "tabled",
                                requestArrayClosure("nexttable", "tablee",
                                    requestArrayClosure("nexttable", "tablef",
                                        requestArrayClosure("nexttable", "tableg"))))))));
        }
            
        </script>
        <script>
          function GetCount()
          {
            var request = new XMLHttpRequest();
            request.onreadystatechange = function()
            {
              if (this.readyState == 4){
                if(this.status == 200){
                  if(this.responseText != null){
                    document.getElementById("changenumber").setAttribute("value") = this.responseText;
                  }
                }
              }
            }
            request.open("GET","ajax_count", true);
            request.send(null);
          }
        </script>
        <script>
        </script>
  <title>Grower List</title>
  <link rel="stylesheet" href="pure-min.css">
  <style>
    body{ padding: 1% 3%; color: rgb(119, 119, 119); }
    h1{ color:#333 }
  </style>
</head>

<body onclick="myFunction()">
    <div id="wrap">
        <div id="header">
            <h1>
                <a href="index.htm">
                    <video width="100px" height="64px" autoplay><source src="logo.mp4" type="video/mp4">Your browser does not support the video tag.</video>
                </a>
                Fast Firmness Finder
            </h1>
            <div id="nav">
                <ul id="nav-pages">
                    <li><a href="index.htm" class="current">HOME</a><span>/</span></li>
                    <li><a href="settings.htm">MACHINE SETTINGS</a><span>/</span></li>
                    <li><a href="about.htm">ABOUT</a></li>
                </ul>
            </div>
        </div>
        <div id="frontpage-content">
            <script>
                getManyArrays();
            </script>


            <div id="frontpage-intro">
                <p><span><strong>3F</strong></span> Grower Settings<br></p>
            </div>
            
            <table id="editable" class="pure-table pure-table-bordered">
                <thead>
                    <tr><!--column names-->
                        <th id = "tablenum0"></th>
                        <th id = "tablenum1"></th>
                        <th id = "tablenum2"></th>
                        <th id = "tablenum3"></th>
                    </tr>
                </thead>
                <tbody>
                    <tr><!--first row-->
                        <td id="tablea0" onclick="GetInfo(tablea0)"></td>
                        <td id="tablea1"></td>
                        <td class="uneditable" id="tablea2"></td>
                        <td id="tablea3"></td>
                    </tr>
                    <tr><!--second row-->
                        <td id="tableb0"></td>
                        <td id="tableb1"></td>
                        <td class="uneditable" id="tableb2"></td>
                        <td id="tableb3"></td>
                    </tr>
                    <tr><!--third row-->
                        <td id="tablec0"></td>
                        <td id="tablec1"></td>
                        <td id="tablec2"></td>
                        <td class="uneditable" id="tablec3"></td>
                    </tr>
                    <tr><!--fourth row-->
                        <td id="tabled0"></td>
                        <td id="tabled1"></td>
                        <td id="tabled2"></td>
                        <td class="uneditable" id="tabled3"></td>
                    </tr>
                    <tr>
                        <td id="tablee0"></td>
                        <td id="tablee1"></td>
                        <td class="uneditable" id="tablee2"></td>
                        <td id="tablee3"></td>
                    </tr>
                    <tr>
                        <td id="tablef0"></td>
                        <td id="tablef1"></td>
                        <td class="uneditable" id="tablef2"></td>
                        <td id="tablef3"></td>
                    </tr>
                    <tr>
                        <td id="tableg0"></td>
                        <td id="tableg1"></td>
                        <td id="tableg2"></td>
                        <td class="uneditable" id="tableg3"></td>
                    </tr>
                    <tr>
                        <td id="tableh0">&zwnj;</td>
                        <td id="tableh1">&zwnj;</td>
                        <td id="tableh2">&zwnj;</td>
                        <td class="uneditable" id="tableh3">&zwnj;</td>
                    </tr>
                </tbody>
                <input type="submit" value="Refresh List" onclick="getManyArrays()">
                <label>&zwnj;</label>
            </table>
            <p id="demo"></p>
        </div>
    </div>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="editable.js"></script>
    


<script>
function myFunction() {
    var x = document.activeElement.tagName;
    document.getElementById("demo").innerHTML = x;
}
</script>
    <script>
        $('#editable').editableTableWidget();
        $('#editable td.uneditable').on('change', function(evt, newValue) {
            return false;
        });

        $('#editable td').on('change', function(evt, newValue) {
            $.post( "ajax_update", { value: document.activeElement.parentElement.id })          
                .done(function( data ) {
                        alert( "Data Loaded: " + data );
            });	
            ;
        });
    </script>
</body>


</html>